\hypertarget{droppable__plot__widget_8py_source}{}\doxysection{droppable\+\_\+plot\+\_\+widget.\+py}
\label{droppable__plot__widget_8py_source}\index{src/view/droppable\_plot\_widget.py@{src/view/droppable\_plot\_widget.py}}
\mbox{\hyperlink{droppable__plot__widget_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00001}\mbox{\hyperlink{namespaceview_1_1droppable__plot__widget}{00001}} \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00002}00002 \textcolor{stringliteral}{A PlotWidget that can be dropped into.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00003}00003 \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00005}00005 \textcolor{keyword}{import} sys}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00006}00006 \textcolor{keyword}{from} typing \textcolor{keyword}{import} List, NamedTuple, Optional, Tuple}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00008}00008 \textcolor{keyword}{import} numpy \textcolor{keyword}{as} np}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00009}00009 \textcolor{keyword}{import} pyqtgraph}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00010}00010 \textcolor{keyword}{from} PyQt6 \textcolor{keyword}{import} QtCore, QtGui, QtWidgets}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00012}00012 \textcolor{comment}{\# pylint: disable=import-\/error}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00013}00013 \textcolor{keyword}{from} \mbox{\hyperlink{namespaceequations_1_1circle__charge}{equations.circle\_charge}} \textcolor{keyword}{import} CircleCharge}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00014}00014 \textcolor{keyword}{from} \mbox{\hyperlink{namespaceequations_1_1constants}{equations.constants}} \textcolor{keyword}{import} Point2D}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00015}00015 \textcolor{keyword}{from} \mbox{\hyperlink{namespaceequations_1_1graph__window}{equations.graph\_window}} \textcolor{keyword}{import} GraphWindow}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00016}00016 \textcolor{keyword}{from} \mbox{\hyperlink{namespaceequations_1_1infinite__line__charge}{equations.infinite\_line\_charge}} \textcolor{keyword}{import} InfiniteLineCharge}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00017}00017 \textcolor{keyword}{from} \mbox{\hyperlink{namespaceequations_1_1point__charge}{equations.point\_charge}} \textcolor{keyword}{import} PointCharge}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00018}00018 \textcolor{keyword}{from} \mbox{\hyperlink{namespaceequations_1_1ring__charge}{equations.ring\_charge}} \textcolor{keyword}{import} RingCharge}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00019}00019 \textcolor{keyword}{from} \mbox{\hyperlink{namespaceview_1_1draggable__label}{view.draggable\_label}} \textcolor{keyword}{import} DraggableLabel}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00021}00021 \textcolor{comment}{\# pylint: enable=import-\/error}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00023}00023 RGBTuple = NamedTuple(\textcolor{stringliteral}{"{}RGBTuple"{}}, [(\textcolor{stringliteral}{"{}r"{}}, int), (\textcolor{stringliteral}{"{}g"{}}, int), (\textcolor{stringliteral}{"{}b"{}}, int)])}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00024}00024 GraphBounds = NamedTuple(\textcolor{stringliteral}{"{}GraphBounds"{}}, [(\textcolor{stringliteral}{"{}top\_left"{}}, Point2D), (\textcolor{stringliteral}{"{}bottom\_right"{}}, Point2D)])}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00025}\mbox{\hyperlink{namespaceview_1_1droppable__plot__widget_a8df3d9be21e8f6e5848ef286637af733}{00025}} }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00026}\mbox{\hyperlink{namespaceview_1_1droppable__plot__widget_aa7214e1f208192f8be6759936899764c}{00026}} }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00027}00027 \textcolor{keyword}{class }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_arrow_tail_item}{ArrowTailItem}}(pyqtgraph.ArrowItem):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00028}00028     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00029}00029 \textcolor{stringliteral}{    An ArrowItem that loads its position }\textcolor{keyword}{from} the tail (end) of the arrow, \textcolor{keywordflow}{not} \textcolor{keyword}{from} the head of the}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00030}00030     arrow.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00031}00031     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00032}00032 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00033}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_arrow_tail_item}{00033}} \textcolor{stringliteral}{    }\textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_arrow_tail_item_a4ef297b6a091854dff52d1601cb14834}{paint}}(self, p: QtGui.QPainter, *args) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00034}00034         p.translate(-\/2 * self.boundingRect().center())}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00035}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_arrow_tail_item_a4ef297b6a091854dff52d1601cb14834}{00035}}         \textcolor{keywordflow}{return} super().\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_arrow_tail_item_a4ef297b6a091854dff52d1601cb14834}{paint}}(p, *args)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00038}00038 \textcolor{keyword}{class }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget}{DroppablePlotWidget}}(pyqtgraph.PlotWidget):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00039}00039     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00040}00040 \textcolor{stringliteral}{    A PlotWidget that can be dropped into.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00041}00041 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00042}00042 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00043}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget}{00043}} \textcolor{stringliteral}{    DEFAULT\_GRAPH\_RESOLUTION = 20}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00044}00044 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00045}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a75bac444a9b1434c56cd59b6d4af9a3c}{00045}} \textcolor{stringliteral}{    The default number of x-\/axis points to render.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00046}00046 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00047}00047 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00048}00048 \textcolor{stringliteral}{    }\textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_ace8d78c396cbcdfe7925c035b1a85545}{\_\_init\_\_}}(self,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00049}00049                  parent: Optional[QtWidgets.QWidget] = \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00050}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_ace8d78c396cbcdfe7925c035b1a85545}{00050}}                  background: str = \textcolor{stringliteral}{'default'},}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00051}00051                  plotItem: Optional[pyqtgraph.PlotItem] = \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00052}00052                  **kargs) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00053}00053         super().\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_ace8d78c396cbcdfe7925c035b1a85545}{\_\_init\_\_}}(parent, background, plotItem, **kargs)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00055}00055         self.setAcceptDrops(\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00057}00057         self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a0f24764135f7f6535171324455d959dd}{aspect\_ratio\_fixed}} = \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00058}00058         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00059}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a0f24764135f7f6535171324455d959dd}{00059}} \textcolor{stringliteral}{        Whether the aspect ratio }\textcolor{keywordflow}{is} fixed at 1:1. Calling ``toggle\_even\_aspect\_ratio`` toggles this}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00060}00060         value.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00061}00061         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00062}00062 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00063}00063 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aaf78ffe62925ace9d42faaf0ba69f04f}{graph\_resolution}} = DroppablePlotWidget.DEFAULT\_GRAPH\_RESOLUTION}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00064}00064 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00065}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aaf78ffe62925ace9d42faaf0ba69f04f}{00065}} \textcolor{stringliteral}{        The number of x-\/axis points to render.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00066}00066 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00067}00067 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00068}00068 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{graph\_window}} = \mbox{\hyperlink{classequations_1_1graph__window_1_1_graph_window}{GraphWindow}}([}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00069}00069 \textcolor{stringliteral}{            \mbox{\hyperlink{classequations_1_1point__charge_1_1_point_charge}{PointCharge}}(Point2D(1, 4), 10),}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00070}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{00070}} \textcolor{stringliteral}{            \mbox{\hyperlink{classequations_1_1point__charge_1_1_point_charge}{PointCharge}}(Point2D(-\/3, 5), 8),}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00071}00071 \textcolor{stringliteral}{            \mbox{\hyperlink{classequations_1_1point__charge_1_1_point_charge}{PointCharge}}(Point2D(0, 1), -\/5),}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00072}00072 \textcolor{stringliteral}{            \mbox{\hyperlink{classequations_1_1infinite__line__charge_1_1_infinite_line_charge}{InfiniteLineCharge}}(3, 2, 1, 0.5),}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00073}00073 \textcolor{stringliteral}{            \mbox{\hyperlink{classequations_1_1infinite__line__charge_1_1_infinite_line_charge}{InfiniteLineCharge}}(0, 1, 1, 1),}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00074}00074 \textcolor{stringliteral}{            \mbox{\hyperlink{classequations_1_1infinite__line__charge_1_1_infinite_line_charge}{InfiniteLineCharge}}(1, 0, 2, -\/1),}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00075}00075 \textcolor{stringliteral}{            \mbox{\hyperlink{classequations_1_1circle__charge_1_1_circle_charge}{CircleCharge}}(Point2D(1, 2), 2.5, 2.0),}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00076}00076 \textcolor{stringliteral}{            \mbox{\hyperlink{classequations_1_1ring__charge_1_1_ring_charge}{RingCharge}}(Point2D(0, 0), 2, 3, -\/4),}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00077}00077 \textcolor{stringliteral}{            \mbox{\hyperlink{classequations_1_1ring__charge_1_1_ring_charge}{RingCharge}}(Point2D(0, 0), 5, 6, -\/4),}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00078}00078 \textcolor{stringliteral}{            \mbox{\hyperlink{classequations_1_1ring__charge_1_1_ring_charge}{RingCharge}}(Point2D(0, 0), 0, 1, 20)}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00079}00079 \textcolor{stringliteral}{        ])}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00080}00080 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00081}00081 \textcolor{stringliteral}{    }\textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a22225ebd77acc49d7e580351dc67e1ea}{get\_pi\_vb}}(self) -\/> Tuple[pyqtgraph.PlotItem, pyqtgraph.ViewBox]:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00082}00082         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00083}00083 \textcolor{stringliteral}{        Get the PlotItem \& ViewBox.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00084}00084 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00085}00085 \textcolor{stringliteral}{        Returns:}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00086}00086 \textcolor{stringliteral}{            Tuple[pyqtgraph.PlotItem, pyqtgraph.ViewBox]: Tuple of the current ``PlotItem`` }\textcolor{keywordflow}{and} the}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00087}00087             current ``ViewBox`` \textcolor{keywordflow}{if} they exist.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00088}00088 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00089}00089         Raises:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00090}00090             RuntimeError: An error occurred getting the current PlotItem \textcolor{keywordflow}{or} ViewBox.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00091}00091         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00092}00092 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00093}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a22225ebd77acc49d7e580351dc67e1ea}{00093}} \textcolor{stringliteral}{        plot\_item = self.getPlotItem()}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00094}00094 \textcolor{stringliteral}{        }\textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(plot\_item, pyqtgraph.PlotItem):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00095}00095             \textcolor{keywordflow}{raise} RuntimeError(\textcolor{stringliteral}{"{}Unable to build plot!"{}})}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00096}00096         view\_box = plot\_item.getViewBox()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00097}00097         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(view\_box, pyqtgraph.ViewBox):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00098}00098             \textcolor{keywordflow}{raise} RuntimeError(\textcolor{stringliteral}{"{}Unable to rebuild plot"{}})}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00099}00099 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00100}00100         \textcolor{keywordflow}{return} plot\_item, view\_box}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00101}00101 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00102}00102     \textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aeceac207d368ebbacbcec64712b09586}{dragEnterEvent}}(self, ev: QtGui.QDragEnterEvent) -\/> \textcolor{keywordtype}{None}:  \textcolor{comment}{\# pylint: disable=invalid-\/name}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00103}00103         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00104}00104 \textcolor{stringliteral}{        A drag has entered the widget.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00105}00105 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00106}00106 \textcolor{stringliteral}{        Args:}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00107}00107 \textcolor{stringliteral}{            ev (QtGui.QDragEnterEvent): The QDragEnterEvent event to handle.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00108}00108 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00109}00109 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00110}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aeceac207d368ebbacbcec64712b09586}{00110}} \textcolor{stringliteral}{        }\textcolor{keywordflow}{if} ev.mimeData().hasFormat(DraggableLabel.MIME\_FORMAT):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00111}00111             ev.accept()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00113}00113     \textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a41d0d43dba251b314c0b965938c99094}{dragMoveEvent}}(self, ev: QtGui.QDragMoveEvent) -\/> \textcolor{keywordtype}{None}:  \textcolor{comment}{\# pylint: disable=invalid-\/name}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00114}00114         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00115}00115 \textcolor{stringliteral}{        A drag }\textcolor{keywordflow}{is} moving \textcolor{keywordflow}{in} the widget.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00116}00116 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00117}00117         Args:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00118}00118             ev (QtGui.QDragMoveEvent): The QDragMoveEvent event to handle.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00119}00119         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00120}00120 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00121}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a41d0d43dba251b314c0b965938c99094}{00121}} \textcolor{stringliteral}{        }\textcolor{keywordflow}{if} ev.mimeData().hasFormat(DraggableLabel.MIME\_FORMAT):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00122}00122             ev.accept()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00123}00123 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00124}00124     \textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_ae8972d6f720dbd2de90239f9b2faa3d4}{dragLeaveEvent}}(self, ev: QtGui.QDragLeaveEvent) -\/> \textcolor{keywordtype}{None}:  \textcolor{comment}{\# pylint: disable=invalid-\/name}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00125}00125         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00126}00126 \textcolor{stringliteral}{        A drag left the widget.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00127}00127 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00128}00128 \textcolor{stringliteral}{        Args:}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00129}00129 \textcolor{stringliteral}{            ev (QtGui.QDragLeaveEvent): The QDragLeaveEvent event to handle.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00130}00130 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00131}00131 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00132}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_ae8972d6f720dbd2de90239f9b2faa3d4}{00132}} \textcolor{stringliteral}{        ev.accept()}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00133}00133 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00134}00134 \textcolor{stringliteral}{    }\textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a2720287f7ce24cd9c3ced2d6839bc9fc}{dropEvent}}(self, ev: QtGui.QDropEvent) -\/> \textcolor{keywordtype}{None}:  \textcolor{comment}{\# pylint: disable=invalid-\/name}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00135}00135         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00136}00136 \textcolor{stringliteral}{        A drop event has occurred. Forward it to a listening slot }\textcolor{keywordflow}{in} the MainWindow.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00137}00137 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00138}00138         Args:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00139}00139             ev (QtGui.QDropEvent): The QDropEvent event to handle.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00140}00140         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00141}00141 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00142}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a2720287f7ce24cd9c3ced2d6839bc9fc}{00142}} \textcolor{stringliteral}{        }\textcolor{keywordflow}{if} \textcolor{keywordflow}{not} ev.mimeData().hasFormat(DraggableLabel.MIME\_FORMAT):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00143}00143             ev.ignore()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00145}00145         view\_box = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a22225ebd77acc49d7e580351dc67e1ea}{get\_pi\_vb}}()[1]}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00146}00146 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00147}00147         mouse\_point = view\_box.mapSceneToView(ev.position())}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00148}00148 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00149}00149         x\_pos = mouse\_point.x()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00150}00150         y\_pos = mouse\_point.y()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00151}00151 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00152}00152         mime\_data = ev.mimeData().data(DraggableLabel.MIME\_FORMAT)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00153}00153         label\_type = \mbox{\hyperlink{classview_1_1draggable__label_1_1_draggable_label_1_1_label_types}{DraggableLabel.LabelTypes}}(int.from\_bytes(mime\_data[0], sys.byteorder))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00154}00154 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00155}00155         \textcolor{comment}{\# Add in the correct charge shape}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00156}00156         \textcolor{keywordflow}{if} label\_type == DraggableLabel.LabelTypes.POINT\_CHARGE:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00157}00157             self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{graph\_window}}.add\_charge(\mbox{\hyperlink{classequations_1_1point__charge_1_1_point_charge}{PointCharge}}(Point2D(x\_pos, y\_pos), 1))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00158}00158         \textcolor{keywordflow}{elif} label\_type == DraggableLabel.LabelTypes.INFINITE\_LINE\_CHARGE:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00159}00159             self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{graph\_window}}.add\_charge(\mbox{\hyperlink{classequations_1_1infinite__line__charge_1_1_infinite_line_charge}{InfiniteLineCharge}}(1, 0, -\/x\_pos, 1))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00160}00160         \textcolor{keywordflow}{elif} label\_type == DraggableLabel.LabelTypes.CIRCLE\_CHARGE:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00161}00161             self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{graph\_window}}.add\_charge(\mbox{\hyperlink{classequations_1_1circle__charge_1_1_circle_charge}{CircleCharge}}(Point2D(x\_pos, y\_pos), 1, 1))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00162}00162         \textcolor{keywordflow}{elif} label\_type == DraggableLabel.LabelTypes.RING\_CHARGE:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00163}00163             self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{graph\_window}}.add\_charge(\mbox{\hyperlink{classequations_1_1ring__charge_1_1_ring_charge}{RingCharge}}(Point2D(x\_pos, y\_pos), 0.5, 1, 1))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00164}00164         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00165}00165             \textcolor{keywordflow}{raise} RuntimeWarning(}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00166}00166                 f\textcolor{stringliteral}{"{}Unexpected label type \{label\_type\} encountered in DroppablePlotWidget.dropEvent"{}})}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00167}00167 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00168}00168         ev.accept()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00169}00169 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00170}00170         \textcolor{comment}{\# Open the relevant menu.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00171}00171         rmv\_charge = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{graph\_window}}.charges[-\/1].open\_menu(self.mapToGlobal(ev.position()))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00172}00172         \textcolor{keywordflow}{if} rmv\_charge:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00173}00173             self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a8bdd23cec2793e2610722d11020dac7b}{remove\_charge}}()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00174}00174 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00175}00175     \textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a7ad3c462753163b4e468d5d48b58aadf}{build\_plots}}(self,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00176}00176                     dimensions: Optional[GraphBounds] = \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00177}00177                     max\_mag\_length: float = 20.0) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00178}00178         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00179}00179 \textcolor{stringliteral}{        Build the plots of the electric field }\textcolor{keywordflow}{and} the point charges.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00180}00180 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00181}00181         If this \textcolor{keywordflow}{is} the first time building the plots, add all the points \textcolor{keywordflow}{and} then autoscale.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00182}00182         Otherwise, use the provided dimensions (likely \textcolor{keyword}{from} the graph bounds).}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00183}00183 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00184}00184         Args:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00185}00185             dimensions (Optional[GraphBounds]): The dimensions to plot, (top\_left, bottom\_right).}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00186}00186                 Defaults to the range set by the point charges.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00187}00187             max\_mag\_length (float): The length of the largest magnitude arrow. Defaults to 20.0.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00188}00188 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00189}00189         Raises:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00190}00190             RuntimeError: The plot \textcolor{keywordflow}{or} axes are invalid.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00191}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a7ad3c462753163b4e468d5d48b58aadf}{00191}}         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00192}00192 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00193}00193 \textcolor{stringliteral}{        should\_autoscale = dimensions }\textcolor{keywordflow}{is} \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00194}00194 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00195}00195         plot\_item, view\_box = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a22225ebd77acc49d7e580351dc67e1ea}{get\_pi\_vb}}()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00196}00196         axes = plot\_item.axes}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00197}00197         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(axes, dict):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00198}00198             \textcolor{keywordflow}{raise} RuntimeError(\textcolor{stringliteral}{"{}Unable to build plot!"{}})}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00199}00199 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00200}00200         \textcolor{comment}{\# Disable autoscaling before adding items to graph for improved performance}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00201}00201         view\_box.disableAutoRange()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00202}00202 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00203}00203         \textcolor{comment}{\# Remove old graphs}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00204}00204         plot\_item.clear()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00205}00205 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00206}00206         \textcolor{keywordflow}{for} axis \textcolor{keywordflow}{in} axes:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00207}00207             plot\_item.getAxis(axis).setGrid(255)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00208}00208 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00209}00209         default\_dimensions = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a1ace525da4438298275ce739ede83e73}{\_plot\_charges}}()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00210}00210 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00211}00211         \textcolor{comment}{\# Build the dimensions based solely on the charges, or the provided dimensions.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00212}00212         dimensions = dimensions \textcolor{keywordflow}{or} default\_dimensions}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00213}00213 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00214}00214         self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_ac788b15b91fdbb47ac280abd532a2cf2}{\_plot\_arrows}}(dimensions, max\_mag\_length)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00215}00215 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00216}00216         \textcolor{keywordflow}{if} should\_autoscale:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00217}00217             \textcolor{comment}{\# Enable autoscaling if no dimension set.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00218}00218             view\_box.enableAutoRange()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00219}00219 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00220}00220     \textcolor{keyword}{def }\_plot\_arrows(self, dimensions: GraphBounds, max\_mag\_length: float) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00221}00221         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00222}00222 \textcolor{stringliteral}{        Plot electric field magnitude arrows.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00223}00223 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00224}00224 \textcolor{stringliteral}{        Args:}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00225}00225 \textcolor{stringliteral}{            dimensions (GraphBounds): The bounding dimensions of the graph window.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00226}00226 \textcolor{stringliteral}{            max\_mag\_length (float): The length of the largest magnitude arrow.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00227}00227 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00228}00228 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00229}00229 \textcolor{stringliteral}{        }\textcolor{comment}{\# Draw arrows at uniform test points based current view and resolution}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00230}00230         x\_indices = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aaf78ffe62925ace9d42faaf0ba69f04f}{graph\_resolution}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00231}00231         y\_indices = max(int(self.height() / self.width() * x\_indices), 1)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00232}00232 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00233}00233         x\_distance = dimensions.bottom\_right.x -\/ dimensions.top\_left.x}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00234}00234         y\_distance = dimensions.top\_left.y -\/ dimensions.bottom\_right.y}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00235}00235 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00236}00236         p\_x = [[0.0] * y\_indices \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(x\_indices)]}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00237}00237         p\_y = [[0.0] * y\_indices \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(x\_indices)]}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00238}00238 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00239}00239         mag\_x = [[0.0] * y\_indices \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(x\_indices)]}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00240}00240         mag\_y = [[0.0] * y\_indices \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(x\_indices)]}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00241}00241         net\_mag = [[0.0] * y\_indices \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(x\_indices)]}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00242}00242 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00243}00243         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(x\_indices):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00244}00244             \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00245}00245                 x\_percentage = i / (x\_indices -\/ 1)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00246}00246             \textcolor{keywordflow}{except} ZeroDivisionError:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00247}00247                 x\_percentage = 0.5}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00248}00248 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00249}00249             x\_pos = x\_percentage * x\_distance + dimensions.top\_left.x}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00250}00250 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00251}00251             \textcolor{keywordflow}{for} j \textcolor{keywordflow}{in} range(y\_indices):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00252}00252                 \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00253}00253                     y\_percentage = j / (y\_indices -\/ 1)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00254}00254                 \textcolor{keywordflow}{except} ZeroDivisionError:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00255}00255                     y\_percentage = 0.5}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00256}00256 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00257}00257                 y\_pos = y\_percentage * y\_distance + dimensions.bottom\_right.y}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00258}00258 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00259}00259                 p\_x[i][j] = x\_pos}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00260}00260                 p\_y[i][j] = y\_pos}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00261}00261 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00262}00262                 \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00263}00263                     ef\_mag\_x = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{graph\_window}}.electric\_field\_x(Point2D(x\_pos, y\_pos))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00264}00264                     ef\_mag\_y = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{graph\_window}}.electric\_field\_y(Point2D(x\_pos, y\_pos))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00265}00265 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00266}00266                 \textcolor{keywordflow}{except} ZeroDivisionError:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00267}00267                     \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00268}00268 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00269}00269                 ef\_mag\_net = np.sqrt(ef\_mag\_x**2 + ef\_mag\_y**2)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00270}00270                 mag\_x[i][j] = ef\_mag\_x}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00271}00271                 mag\_y[i][j] = ef\_mag\_y}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00272}00272                 net\_mag[i][j] = ef\_mag\_net}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00273}00273 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00274}00274         \textcolor{comment}{\# Build sorted array holding indexes of magnitude}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00275}00275         MagIndexes = NamedTuple(\textcolor{stringliteral}{"{}MagIndexes"{}}, [(\textcolor{stringliteral}{"{}magnitude"{}}, float), (\textcolor{stringliteral}{"{}x"{}}, int), (\textcolor{stringliteral}{"{}y"{}}, int)])}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00276}00276         flat\_arr: List[MagIndexes] = []}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00277}00277         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(x\_indices):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00278}00278             \textcolor{keywordflow}{for} j \textcolor{keywordflow}{in} range(y\_indices):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00279}00279                 flat\_arr.append(MagIndexes(net\_mag[i][j], i, j))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00280}00280         flat\_arr.sort(key=\textcolor{keyword}{lambda} mag\_idx: mag\_idx.magnitude)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00281}00281 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00282}00282         net\_mag\_idx = [[0] * y\_indices \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(x\_indices)]}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00283}00283         \textcolor{keywordflow}{for} idx, mag\_idx \textcolor{keywordflow}{in} enumerate(flat\_arr):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00284}00284             \textcolor{comment}{\# Now build mapping from unsorted net\_mag array to sorted array}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00285}00285             net\_mag\_idx[mag\_idx.x][mag\_idx.y] = idx}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00286}00286 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00287}00287         \textcolor{comment}{\# Plot the vector arrows}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00288}00288         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(x\_indices):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00289}00289             \textcolor{keywordflow}{for} j \textcolor{keywordflow}{in} range(y\_indices):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00290}00290                 \textcolor{keywordflow}{if} net\_mag[i][j] <= 0.0:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00291}00291                     \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00292}00292 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00293}00293                 angle = 180 -\/ np.rad2deg(np.arctan2(mag\_y[i][j], mag\_x[i][j]))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00294}00294                 normalized\_mag = net\_mag[i][j] / flat\_arr[-\/1].magnitude}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00295}00295                 scaled\_mag = normalized\_mag * max\_mag\_length}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00296}00296                 brush\_color = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a16ff5e7e15fdfd990ea8206bfcf55828}{\_get\_color\_from\_mag}}(net\_mag\_idx[i][j], len(flat\_arr))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00297}00297                 arrow\_item = \mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_arrow_tail_item}{ArrowTailItem}}(pos=(p\_x[i][j], p\_y[i][j]),}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00298}00298                                            tailLen=scaled\_mag,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00299}00299                                            brush=brush\_color,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00300}00300                                            angle=angle)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00301}00301                 self.addItem(arrow\_item)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00302}00302 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00303}00303     \textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a54dd21af739b8e03c8b5c61df436b58e}{reset\_resolution}}(self) -\/> None:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00304}00304         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00305}00305 \textcolor{stringliteral}{        Reset the graph resolution }\textcolor{keywordflow}{and} rebuild the plots based on currently viewable dimensions.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00306}00306         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00307}00307 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00308}00308 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aaf78ffe62925ace9d42faaf0ba69f04f}{graph\_resolution}} = DroppablePlotWidget.DEFAULT\_GRAPH\_RESOLUTION}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00309}00309 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a7ad3c462753163b4e468d5d48b58aadf}{build\_plots}}(dimensions=self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a8e12822e8d30c1760bd843fd7cf1e86e}{\_get\_graph\_bounds}}())}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00310}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a54dd21af739b8e03c8b5c61df436b58e}{00310}} \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00311}00311 \textcolor{stringliteral}{    }\textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a68a520cead813c8abfb6cf4fe3a91464}{increase\_resolution}}(self) -\/> None:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00312}00312         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00313}00313 \textcolor{stringliteral}{        Increase the graph resolution by 1 }\textcolor{keywordflow}{and} rebuild the plots based on currently viewable}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00314}00314         dimensions.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00315}00315         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00316}00316 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00317}00317 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aaf78ffe62925ace9d42faaf0ba69f04f}{graph\_resolution}} += 1}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00318}00318 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a7ad3c462753163b4e468d5d48b58aadf}{build\_plots}}(dimensions=self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a8e12822e8d30c1760bd843fd7cf1e86e}{\_get\_graph\_bounds}}())}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00319}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a68a520cead813c8abfb6cf4fe3a91464}{00319}} \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00320}00320 \textcolor{stringliteral}{    }\textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aa72bea8f68a28cff733b78e201c365fc}{decrease\_resolution}}(self) -\/> None:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00321}00321         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00322}00322 \textcolor{stringliteral}{        Decrease the graph resolution by 1 (keeping above 0) }\textcolor{keywordflow}{and} rebuild the plots based on}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00323}00323         currently viewable dimensions.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00324}00324         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00325}00325 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00326}00326 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aaf78ffe62925ace9d42faaf0ba69f04f}{graph\_resolution}} -\/= 1}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00327}00327 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aaf78ffe62925ace9d42faaf0ba69f04f}{graph\_resolution}} = max(self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aaf78ffe62925ace9d42faaf0ba69f04f}{graph\_resolution}}, 0)}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00328}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_aa72bea8f68a28cff733b78e201c365fc}{00328}} \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a7ad3c462753163b4e468d5d48b58aadf}{build\_plots}}(dimensions=self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a8e12822e8d30c1760bd843fd7cf1e86e}{\_get\_graph\_bounds}}())}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00329}00329 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00330}00330 \textcolor{stringliteral}{    }\textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a7b007b647a44618948292fec9ca1a413}{refresh\_button\_pressed}}(self) -\/> None:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00331}00331         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00332}00332 \textcolor{stringliteral}{        When the refresh button }\textcolor{keywordflow}{is} pressed, reload the graphs, keeping the resolution the same \textcolor{keywordflow}{and}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00333}00333         updating the dimensions.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00334}00334         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00335}00335 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00336}00336 \textcolor{stringliteral}{        }\textcolor{comment}{\# Regenerate the plots with the new positions (and same charges)}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00337}00337         self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a7ad3c462753163b4e468d5d48b58aadf}{build\_plots}}(dimensions=self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a8e12822e8d30c1760bd843fd7cf1e86e}{\_get\_graph\_bounds}}())}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00338}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a7b007b647a44618948292fec9ca1a413}{00338}} }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00339}00339     \textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_abd948078b11c057cc595162f9db4fecb}{center\_origin}}(self) -\/> None:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00340}00340         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00341}00341 \textcolor{stringliteral}{        Center the ViewBox around the origin without changing the scale factors.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00342}00342 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00343}00343 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00344}00344 \textcolor{stringliteral}{        view\_box = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a22225ebd77acc49d7e580351dc67e1ea}{get\_pi\_vb}}()[1]}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00345}00345 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00346}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_abd948078b11c057cc595162f9db4fecb}{00346}} \textcolor{stringliteral}{        }\textcolor{comment}{\# Ideally, our bounds would be centered around [0, 0], so that}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00347}00347         \textcolor{comment}{\# (bottom\_right\_x + top\_left\_x == 0) and (top\_left\_y + bottom\_right\_y == 0).}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00348}00348         \textcolor{comment}{\# This means we need to shift left by half the x component and down by half the y component.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00349}00349 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00350}00350         current\_bounds = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a8e12822e8d30c1760bd843fd7cf1e86e}{\_get\_graph\_bounds}}()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00351}00351         x\_component = current\_bounds.bottom\_right.x + current\_bounds.top\_left.x}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00352}00352         y\_component = current\_bounds.top\_left.y + current\_bounds.bottom\_right.y}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00353}00353 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00354}00354         view\_box.translateBy((-\/x\_component / 2, -\/y\_component / 2))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00355}00355 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00356}00356     \textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a181b33a758e1ee86d9e81048edd82110}{default\_range}}(self) -\/> None:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00357}00357         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00358}00358 \textcolor{stringliteral}{        Rebuild the graphs at the default position (ie, }\textcolor{keyword}{with} autogenerated dimensions).}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00359}00359         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00360}00360 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00361}00361 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a7ad3c462753163b4e468d5d48b58aadf}{build\_plots}}()}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00362}00362 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00363}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a181b33a758e1ee86d9e81048edd82110}{00363}} \textcolor{stringliteral}{    }\textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a5c533e366bcd980a88b7479d56298cb8}{toggle\_even\_aspect\_ratio}}(self) -\/> None:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00364}00364         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00365}00365 \textcolor{stringliteral}{        Toggle requiring the aspect ratio to be 1:1 so that circles are properly shaped.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00366}00366 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00367}00367 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00368}00368 \textcolor{stringliteral}{        view\_box = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a22225ebd77acc49d7e580351dc67e1ea}{get\_pi\_vb}}()[1]}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00369}00369 \textcolor{stringliteral}{        view\_box.setAspectLocked(self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a0f24764135f7f6535171324455d959dd}{aspect\_ratio\_fixed}}, 1)}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00370}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a5c533e366bcd980a88b7479d56298cb8}{00370}} \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00371}00371 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a0f24764135f7f6535171324455d959dd}{aspect\_ratio\_fixed}} = }\textcolor{keywordflow}{not} self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a0f24764135f7f6535171324455d959dd}{aspect\_ratio\_fixed}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00372}00372 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00373}00373     \textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a8bdd23cec2793e2610722d11020dac7b}{remove\_charge}}(self) -\/> None:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00374}00374         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00375}00375 \textcolor{stringliteral}{        Remove the last charge added, automatically rebuilding the graphs.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00376}00376 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00377}00377 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00378}00378 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{graph\_window}}.remove\_last\_charge()}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00379}00379 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00380}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a8bdd23cec2793e2610722d11020dac7b}{00380}} \textcolor{stringliteral}{    }\textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_accad60c69570bc07be9e5152347acccb}{undo\_remove\_charge}}(self) -\/> None:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00381}00381         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00382}00382 \textcolor{stringliteral}{        Undo the latest removal, automatically rebuilding the graphs.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00383}00383 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00384}00384 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00385}00385 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{graph\_window}}.undo\_charge\_removal()}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00386}00386 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00387}\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_accad60c69570bc07be9e5152347acccb}{00387}} \textcolor{stringliteral}{    }\textcolor{keyword}{def }\_plot\_charges(self) -\/> GraphBounds:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00388}00388         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00389}00389 \textcolor{stringliteral}{        Plot the charges themselves.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00390}00390 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00391}00391 \textcolor{stringliteral}{        Returns:}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00392}00392 \textcolor{stringliteral}{            GraphBounds: The bounding dimensions of the charges themselves.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00393}00393 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00394}00394 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00395}00395 \textcolor{stringliteral}{        leftmost, rightmost, topmost, bottommost = np.inf, -\/np.inf, -\/np.inf, np.inf}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00396}00396 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00397}00397 \textcolor{stringliteral}{        }\textcolor{comment}{\# Plot all charges}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00398}00398         \textcolor{keywordflow}{for} charge \textcolor{keywordflow}{in} self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a80c94bb34f9c65bed61eb05df069e38b}{graph\_window}}.charges:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00399}00399 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00400}00400             \textcolor{comment}{\# Point charges}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00401}00401             \textcolor{keywordflow}{if} isinstance(charge, PointCharge):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00402}00402                 radius = abs(charge.charge) / 5  \textcolor{comment}{\# Arbitrarily chosen scaling factor}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00403}00403 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00404}00404                 leftmost = min(leftmost, charge.position.x -\/ radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00405}00405                 rightmost = max(rightmost, charge.position.x + radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00406}00406                 topmost = max(topmost, charge.position.y + radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00407}00407                 bottommost = min(bottommost, charge.position.y -\/ radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00408}00408 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00409}00409                 ellipse\_item = QtWidgets.QGraphicsEllipseItem(charge.position.x -\/ radius,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00410}00410                                                               charge.position.y -\/ radius,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00411}00411                                                               radius * 2, radius * 2)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00412}00412                 ellipse\_item.setBrush(}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00413}00413                     QtCore.Qt.GlobalColor.red \textcolor{keywordflow}{if} charge.charge > 0 \textcolor{keywordflow}{else} QtCore.Qt.GlobalColor.blue)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00414}00414                 ellipse\_item.setPen(QtGui.QPen(QtCore.Qt.PenStyle.NoPen))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00415}00415                 ellipse\_item.pen().setWidth(0)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00416}00416                 self.addItem(ellipse\_item)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00417}00417 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00418}00418             \textcolor{comment}{\# Infinite Line charges}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00419}00419             \textcolor{keywordflow}{elif} isinstance(charge, InfiniteLineCharge):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00420}00420                 \textcolor{keywordflow}{if} charge.y\_coef == 0:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00421}00421                     \textcolor{comment}{\# ax + c = 0 -\/> x = -\/c/a}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00422}00422                     pos = Point2D(-\/charge.offset / charge.x\_coef, 0)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00423}00423 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00424}00424                     leftmost = min(leftmost, pos.x)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00425}00425                     rightmost = max(rightmost, pos.x)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00426}00426                 \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00427}00427                     \textcolor{comment}{\# ax + by + c = 0 -\/> y = -\/a/b*x -\/ c/b}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00428}00428                     pos = Point2D(0, -\/charge.offset / charge.y\_coef)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00429}00429 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00430}00430                     \textcolor{keywordflow}{if} charge.x\_coef == 0:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00431}00431                         topmost = max(topmost, pos.y)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00432}00432                         bottommost = min(bottommost, pos.y)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00433}00433 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00434}00434                 angle = np.rad2deg(np.arctan2(-\/charge.x\_coef, charge.y\_coef))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00435}00435                 line\_plot\_item = pyqtgraph.InfiniteLine(}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00436}00436                     pos=pos,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00437}00437                     angle=angle,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00438}00438                     pen=\{}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00439}00439                         \textcolor{stringliteral}{"{}color"{}}: \textcolor{stringliteral}{"{}r"{}} \textcolor{keywordflow}{if} charge.charge\_density > 0 \textcolor{keywordflow}{else} \textcolor{stringliteral}{"{}b"{}},}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00440}00440                         \textcolor{stringliteral}{"{}width"{}}: 4}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00441}00441                     \})}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00442}00442 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00443}00443                 self.addItem(line\_plot\_item)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00444}00444 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00445}00445             \textcolor{comment}{\# Circle charges}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00446}00446             \textcolor{keywordflow}{elif} isinstance(charge, CircleCharge):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00447}00447                 leftmost = min(leftmost, charge.center.x -\/ charge.outer\_radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00448}00448                 rightmost = max(rightmost, charge.center.x + charge.outer\_radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00449}00449                 topmost = max(topmost, charge.center.y + charge.outer\_radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00450}00450                 bottommost = min(bottommost, charge.center.y -\/ charge.outer\_radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00451}00451 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00452}00452                 ellipse\_item = QtWidgets.QGraphicsEllipseItem(charge.center.x -\/ charge.outer\_radius,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00453}00453                                                               charge.center.y -\/ charge.outer\_radius,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00454}00454                                                               charge.outer\_radius * 2,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00455}00455                                                               charge.outer\_radius * 2)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00456}00456                 ellipse\_item.setPen(QtGui.QPen(QtCore.Qt.PenStyle.NoPen))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00457}00457                 ellipse\_item.pen().setWidth(0)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00458}00458                 brush = (QtGui.QColor(255, 0, 0, alpha=128)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00459}00459                          \textcolor{keywordflow}{if} charge.charge\_density > 0 \textcolor{keywordflow}{else} QtGui.QColor(0, 0, 255, alpha=128))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00460}00460                 ellipse\_item.setBrush(brush)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00461}00461                 self.addItem(ellipse\_item)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00462}00462 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00463}00463             \textcolor{comment}{\# Ring charges}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00464}00464             \textcolor{keywordflow}{elif} isinstance(charge, RingCharge):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00465}00465                 leftmost = min(leftmost, charge.center.x -\/ charge.outer\_radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00466}00466                 rightmost = max(rightmost, charge.center.x + charge.outer\_radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00467}00467                 topmost = max(topmost, charge.center.y + charge.outer\_radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00468}00468                 bottommost = min(bottommost, charge.center.y -\/ charge.outer\_radius)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00469}00469 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00470}00470                 middle\_radii = (charge.outer\_radius + charge.inner\_radius) / 2}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00471}00471                 ellipse\_item = QtWidgets.QGraphicsEllipseItem(charge.center.x -\/ middle\_radii,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00472}00472                                                               charge.center.y -\/ middle\_radii,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00473}00473                                                               middle\_radii * 2, middle\_radii * 2)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00474}00474                 pen\_color = (QtGui.QColor(255, 0, 0, alpha=128)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00475}00475                              \textcolor{keywordflow}{if} charge.charge\_density > 0 \textcolor{keywordflow}{else} QtGui.QColor(0, 0, 255, alpha=128))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00476}00476                 ellipse\_item.setPen(QtGui.QPen(pen\_color,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00477}00477                                                charge.outer\_radius -\/ charge.inner\_radius))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00478}00478                 ellipse\_item.setBrush(QtGui.QColor(0, 0, 0, alpha=0))  \textcolor{comment}{\# transparent}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00479}00479                 self.addItem(ellipse\_item)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00480}00480             \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00481}00481                 \textcolor{keywordflow}{raise} RuntimeWarning(f\textcolor{stringliteral}{"{}Unexpected charge type \{type(charge)\}"{}})}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00482}00482 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00483}00483         dimensions = \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00484}00484 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00485}00485         \textcolor{keywordflow}{if} \textcolor{keyword}{False} \textcolor{keywordflow}{in} np.isfinite([leftmost, rightmost, topmost, bottommost]):}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00486}00486             \textcolor{comment}{\# If any dimension is not finite, then the graph is not bounded in that direction. Fall}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00487}00487             \textcolor{comment}{\# back to (-\/1, -\/1) and (1, 1) as the bounding dimensions.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00488}00488             dimensions = \mbox{\hyperlink{namespaceview_1_1droppable__plot__widget_aa7214e1f208192f8be6759936899764c}{GraphBounds}}(Point2D(-\/1, 1), Point2D(1, -\/1))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00489}00489 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00490}00490         rightmost = max(rightmost, leftmost + 1.0)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00491}00491         topmost = max(topmost, bottommost + 1)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00492}00492 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00493}00493         \textcolor{keywordflow}{return} dimensions \textcolor{keywordflow}{or} \mbox{\hyperlink{namespaceview_1_1droppable__plot__widget_aa7214e1f208192f8be6759936899764c}{GraphBounds}}(Point2D(leftmost, topmost), Point2D(rightmost, bottommost))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00494}00494 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00495}00495     \textcolor{keyword}{def }\_get\_graph\_bounds(self) -\/> GraphBounds:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00496}00496         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00497}00497 \textcolor{stringliteral}{        Get the top left }\textcolor{keywordflow}{and} bottom right corners of the graph.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00498}00498 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00499}00499         Returns:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00500}00500             GraphBounds: A GraphBounds tuple of the top left point \textcolor{keywordflow}{and} the bottom right point of the}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00501}00501             currently viewable section of the graph.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00502}00502         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00503}00503 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00504}00504 \textcolor{stringliteral}{        view\_box = self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a22225ebd77acc49d7e580351dc67e1ea}{get\_pi\_vb}}()[1]}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00505}00505 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00506}00506 \textcolor{stringliteral}{        }\textcolor{comment}{\# Get the plot dimensions}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00507}00507         view\_range: List[List[float]] = view\_box.viewRange()}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00508}00508         top\_left = Point2D(view\_range[0][0], view\_range[1][1])}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00509}00509         bottom\_right = Point2D(view\_range[0][1], view\_range[1][0])}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00510}00510 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00511}00511         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceview_1_1droppable__plot__widget_aa7214e1f208192f8be6759936899764c}{GraphBounds}}(top\_left, bottom\_right)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00512}00512 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00513}00513     \textcolor{keyword}{def }\_get\_color\_from\_mag(self, index: int, length: int) -\/> RGBTuple:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00514}00514         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00515}00515 \textcolor{stringliteral}{        Return the color }\textcolor{keyword}{from} the given index. We use 3 different colors to draw brush our vectors}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00516}00516         \textcolor{keyword}{with}:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00517}00517         green -\/> yellow | (low magnitude)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00518}00518         yellow -\/> red   | (high magnitude)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00519}00519 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00520}00520         Args:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00521}00521             index (int): The index into the sorted array.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00522}00522             length (int): The length of the sorted array.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00523}00523 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00524}00524         Returns:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00525}00525             RGBTuple: An RGBTuple of R, G, B colors to brush the arrow \textcolor{keyword}{with}.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00526}00526         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00527}00527 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00528}00528 \textcolor{stringliteral}{        low\_mag\_color = \mbox{\hyperlink{namespaceview_1_1droppable__plot__widget_a8df3d9be21e8f6e5848ef286637af733}{RGBTuple}}(0, 255, 0)}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00529}00529 \textcolor{stringliteral}{        med\_mag\_color = \mbox{\hyperlink{namespaceview_1_1droppable__plot__widget_a8df3d9be21e8f6e5848ef286637af733}{RGBTuple}}(255, 255, 0)}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00530}00530 \textcolor{stringliteral}{        high\_mag\_color = \mbox{\hyperlink{namespaceview_1_1droppable__plot__widget_a8df3d9be21e8f6e5848ef286637af733}{RGBTuple}}(255, 0, 0)}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00531}00531 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00532}00532 \textcolor{stringliteral}{        percentile = (index + 1) / length}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00533}00533 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00534}00534 \textcolor{stringliteral}{        }\textcolor{comment}{\# Green -\/> Yellow}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00535}00535         \textcolor{keywordflow}{if} percentile <= 0.50:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00536}00536             \textcolor{keywordflow}{return} self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a13e0e9fddd4dbb428196e29ece9d4443}{\_gradient\_color\_map}}(percentile * 2, low\_mag\_color, med\_mag\_color)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00537}00537 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00538}00538         \textcolor{comment}{\# Yellow -\/> Red}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00539}00539         \textcolor{keywordflow}{return} self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a13e0e9fddd4dbb428196e29ece9d4443}{\_gradient\_color\_map}}((percentile -\/ 0.50) * 2, med\_mag\_color, high\_mag\_color)}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00540}00540 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00541}00541     \textcolor{keyword}{def }\_gradient\_color\_map(self, percentile: float, min\_color: RGBTuple,}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00542}00542                             max\_color: RGBTuple) -\/> RGBTuple:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00543}00543         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00544}00544 \textcolor{stringliteral}{        Takes }\textcolor{keywordflow}{in} a percentile of an array \textcolor{keywordflow}{and} maps it to the expected color given the start \textcolor{keywordflow}{and} end}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00545}00545         color of a gradient.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00546}00546 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00547}00547         Args:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00548}00548             percentile (float): The percentile of this index.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00549}00549             min\_color (RGBTuple): Left most color of gradient.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00550}00550             max\_color (RGBTuple): Right most color of gradient.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00551}00551 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00552}00552         Returns:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00553}00553             RGBTuple: An RGBTuple of R, G, B colors \textcolor{keyword}{as} integers.}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00554}00554         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00555}00555 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00556}00556 \textcolor{stringliteral}{        }\textcolor{keywordflow}{if} percentile <= 0.0:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00557}00557             \textcolor{keywordflow}{return} min\_color}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00558}00558 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00559}00559         \textcolor{keywordflow}{if} percentile >= 1.0:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00560}00560             \textcolor{keywordflow}{return} max\_color}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00561}00561 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00562}00562         \textcolor{comment}{\# calculate how far to shift each color value}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00563}00563         r\_diff = min\_color.r -\/ max\_color.r}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00564}00564         g\_diff = min\_color.g -\/ max\_color.g}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00565}00565         b\_diff = min\_color.b -\/ max\_color.b}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00566}00566         r\_shift = r\_diff * percentile}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00567}00567         g\_shift = g\_diff * percentile}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00568}00568         b\_shift = b\_diff * percentile}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00569}00569 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00570}00570         red = min\_color.r -\/ r\_shift}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00571}00571         green = min\_color.g -\/ g\_shift}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00572}00572         blue = min\_color.b -\/ b\_shift}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00573}00573         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceview_1_1droppable__plot__widget_a8df3d9be21e8f6e5848ef286637af733}{RGBTuple}}(int(red), int(green), int(blue))}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00574}00574 }
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00575}00575     \textcolor{keyword}{def }\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a422f723d73a14cff8c243f139d670e71}{charges\_updated}}(self) -\/> None:}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00576}00576         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00577}00577 \textcolor{stringliteral}{        When charges change, reload the graphs.}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00578}00578 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00579}00579 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{droppable__plot__widget_8py_source_l00580}00580 \textcolor{stringliteral}{        self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a7ad3c462753163b4e468d5d48b58aadf}{build\_plots}}(dimensions=self.\mbox{\hyperlink{classview_1_1droppable__plot__widget_1_1_droppable_plot_widget_a8e12822e8d30c1760bd843fd7cf1e86e}{\_get\_graph\_bounds}}())}}

\end{DoxyCode}
